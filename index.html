<!DOCTYPE html>
<html>

<head>
  <title>electron es6 react boilerplate</title>
  <script>
    var arbol = null;
    // install babel hooks in the renderer process
    require('babel-register');
    const {
      ipcRenderer
    } = require('electron');
    document.designMode = "On";
    document.addEventListener('keyup', function(event) {
      if (document.body.getElementsByTagName('div')[0] === undefined) {
        var palabra = document.body.textContent.split(' ').pop();
        ipcRenderer.send('buscarSugerencias', Array.from(palabra))
      }else{
        var arrayDiv = document.body.getElementsByTagName('div')
        var palabra = arrayDiv.item(arrayDiv.length-1).textContent.split(' ').pop();
        ipcRenderer.send('buscarSugerencias', Array.from(palabra))
      }
    });

    ipcRenderer.on('sugerencias', (event, arg) => {
      console.log(arg);
    })
  </script>
</head>

<body>
</body>

</html>
